{% extends "base.html" %}
{% block content %}
  <h1>Edit Listing</h1>

  <form method="post" enctype="multipart/form-data">
    <label>Item name:
      <input name="item_name" value="{{ item['item_name'] }}" required>
    </label><br>

    <label>Price:
      <input name="price" value="{{ item['price'] }}">
    </label><br>

    <label>Description:<br>
      <textarea name="description">{{ item['description'] }}</textarea>
    </label><br>

    <label>Current image:</label><br>
    {% if item['image'] %}
      <img src="{{ url_for('static', filename='uploads/' ~ item['image']) }}" alt="current image" style="max-width:200px;display:block;margin-bottom:8px;">
    {% else %}
      <div>No image</div>
    {% endif %}
    <label>Replace image:
      <input type="file" name="image" accept="image/*">
    </label><br>

    <label>Contact:
      <input name="contact" value="{{ item['contact'] }}">
    </label><br>

    <label>Payment:
      <input name="payment" value="{{ item['payment'] }}">
    </label><br>

    <label>Status:
      <select name="status">
        <option value="available" {% if item['status']=='available' %}selected{% endif %}>available</option>
        <option value="sold" {% if item['status']=='sold' %}selected{% endif %}>sold</option>
      </select>
    </label><br>

    <button type="submit">Save changes</button>
  </form>
{% endblock %}